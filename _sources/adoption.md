# Уровни зрелости chaos engineering в компании

Внедрение хаос-испытаний в компании - многошаговый процесс, который обычно
начинается с разовых экспериментов, показывающих нештатное поведение конкретной системы в случае простых атак. Такие атаки обычно воспроизводят инциденты,
которые уже происходили в ходе эксплуатации системы.

По мере накопления опыта проведения испытаний расширяется количество тестируемых атак и набор инструментов для их внедрения, используются средства для автоматизации хаос-экспериментов, улучшается предоставление необходимой инфраструктуры (стендов) и вырабатывается собственная методика проведения хаос-испытаний. Команды лучше понимают поведение сложных распределенных систем в условиях стресса.

Подготовительные этапы обеспечивают переход к разработке систем, способных 
к самовосстановлению при возникновении неблагоприятных условий в эксплуатационной среде.
Для этого может быть создан профильный центр компетенций, лучшая практика 
разработки таких систем распространяется на всю компанию (через выделенные роли в командах, встраивание в релизный цикл и SLA систем) и подтверждается хаос-испытаниями, охватывающими большинство систем в компании. 

На продвинутых этапах компания распространяет методологию внутри экосистемы и на партнеров. Возможные этапы внедрения хаос-испытаний в крупной компании показаны на рисунках ниже.

![][t1]
![][t2]

[t1]: https://user-images.githubusercontent.com/9265326/224535454-7b197da2-cd78-4dbe-9bf4-0e2384d6bd59.png
[t2]: https://user-images.githubusercontent.com/9265326/224535499-08550667-6efa-4ac0-8cfe-bc1751fa90df.png

Начиная с 4 этапа компания также может быть заинтересована в применении 
средств машинного обучения и искусственного интеллекта для обработки данных мониторинга и хаос-испытаний (AIOps), а также совместном тестировании надежности и безопасности систем (DevSecOps).


<!--

Ступени:

Ступень 1 - разовое тестирование 1-5 систем, ручное тестирование

       Кто: инициатива отдельных команд
       Отношение к хаос-тестам: bloker
       Ценность: Системы все равно падают, клиент привык
       Отношение к знаниям о системах: Никто ничего не знает о системе
       Методология: по книжкам/консалтинг. Методика тестирования разрабатывается
       Автоматизация хаос-тестов: нет
       Готовность инфраструктуры: не готовы. долгая подготовка систем (нагрузка, мониторинг)
       Кто разбирает результаты:  случайный назначенный
       Инструментарий: использование небольшого количества пакетов
       количество атак: мало
       Уровень внедрения: приглашенные специалисты

Ступень 2 - тестирование 10-15 систем на постоянной основе, ручное тестирование

       Кто: инициатива отдельных команд
       Отношение к хаос-тестам: bloker
       Ценность: Системы все равно падают, клиент привык
       Отношение к знаниям о системах: Никто ничего не знает о системе
       **Методология: Базовая методика тестирования разработана**
       Автоматизация хаос-тестов: нет
       **Готовность инфраструктуры: первичная настройка систем проводится за 1-2 дня (нагрузка, мониторинг)**
       Кто разбирает результаты:  случайный назначенный
       Инструментарий: использование небольшого количества пакетов
       Количество атак: мало
       **Уровень внедрения: внутри отдельных команд/приглашенные специалисты**

Ступень 3 - тестирование более 15-30 систем, малой автоматизаций (ansible,BitBucket)

       **Кто: драфт корпоративного стандарта**
       **Отношение к хаос-тестам: enabler**
       **Ценность: Новые системы способны к самовосстановлению**
       **Отношение к знаниям о системах: знает-не знает все равно протестируем**
       **Методология: Базовая методика тестирования разработана, понятны доработки для тиража**
       **Автоматизация хаос-тестов: Представлена малой автоматизацией**
       Готовность инфраструктуры: первичная настройка систем проводится за 1-2 дня (нагрузка, мониторинг)
       Кто разбирает результаты: выделенный сотрудник команды продукта
       Инструментарий: использование небольшого количества пакетов
       **Количество атак: средне**
       Уровень внедрения: внутри отдельных команд/приглашенные специалисты

Ступень 4 - тестирование болеее 30 систем, сложной автоматизацией (Jenkins, Подсистема отчетности)

       Кто: корпоративный стандарт
       Отношение к хаос-тестам: enabler
       **Ценность: протестированные системы способны к самовосстановлению**
       **Отношение к знаниям о системах: команда все знает о системе**
       **Методология: Методика для тиража готова**
       **Автоматизация хаос-тестов: Представлена сложной автоматизацией. Интеграция с подсистемой отчетности.**
       Готовность инфраструктуры: первичная настройка систем проводится за 1-2 дня (нагрузка, мониторинг)
       **Кто разбирает результаты: выделенная роль в команде**
       **Инструментарий: использование широкого количества пакетов**
       **Количество атак: большое**
       **Уровень внедрения: центр компетенций/приглашенные специалисты**

Ступень 5 - тестирование систем без ограничений, отдельный комплексный продукт по chaos тестированию

       Кто: корпоративный стандарт
       Отношение к хаос-тестам: enabler
       Ценность: протестированные системы способны к самовосстановлению
       Отношение к знаниям о системах: команда все знает о системе
       Методология: Методика для тиража готова
       **Автоматизация хаос-тестов: Представлена отдельным комплексным продуктом по chaos тестированию. Разработка собственных утилит для атак
                                   Стоимость тестирования резко сокращается.**
       **Готовность инфраструктуры: первичная настройка систем проводится за часы (нагрузка, мониторинг)**
       **Кто разбирает результаты: выделенная роль в команде/ + центр компетенций**
       Инструментарий: использование широкого количества пакетов
       **Количество атак: большое + подготовка индивидуальных кесов.**
       Уровень внедрения: центр компетенций

Ступень 6 - масштабирование тестирования на экосистему, встраивание в релизный процесс продуктов

       Кто: корпоративный стандарт
       Отношение к хаос-тестам: enabler
       **Ценность: каждая релизная версия продукта способна к самовосстановлению**
       Отношение к знаниям о системах: команда все знает о системе
       Методология: Методика для тиража готова
       Автоматизация хаос-тестов: Представлена отдельным комплексным продуктом по chaos тестированию. Разработка собственных утилит для атак
                                   Стоимость тестирования резко сокращается.
       **Готовность инфраструктуры: первичная настройка систем проводится за часы (нагрузка, мониторинг)**
       Кто разбирает результаты: выделенная роль в команде/ + центр компетенций
       Инструментарий: использование широкого количества пакетов
       **Количество атак: большое + подготовка индивидуальных атак.**
       **Уровень внедрения: центр компетенций экосистемы. Пилоты в экосистеме.**

Ступень 7 - интеграция со смежными процессами, встраивание в ирхитектурные стандарты. Самовосстановление в ДНК систем.

       **Кто: корпоративные стандарты**
       Отношение к хаос-тестам: enabler
       **Ценность: Самовосстановление систем максимально. Имеется защита от типовых сбоев.**
       Отношение к знаниям о системах: команда все знает о системе
       **Методология: Методика доработана под релизы, включает точечные кейсы интеграции с DevSecOps, поддерживает испытания "сложных" распределенных продуктов.**
       Автоматизация хаос-тестов: Представлена отдельным комплексным продуктом по chaos тестированию. Разработка собственных утилит для атак
       Готовность инфраструктуры: первичная настройка систем проводится за часы (нагрузка, мониторинг)
       Кто разбирает результаты: выделенная роль в команде/ + центр компетенций
       Инструментарий: использование широкого количества пакетов
       **Количество атак: большое + исследования по поиску новых атак. Есть выделенная роль под разработку атак.**
       **Уровень внедрения: центр компетенций экосистемы. Испытания в экосистеме реализованы.**

Возможно появление новых уровней ступений с большей коллаборацией/интеграцией процессов инструментов.

---

Шкалы зрелости:

- кто: инициатива отдельных команд / корпоративный стандарт
- отношение к хаос-тестам: блокер / enabler
- ценность надежности для клиентов и бизнеса: "системы все равно падают, клиент привык" / "новые системы споосбы к самовосстановлению"
- отношение к знаниям о системах: "команда все знает о системе" / "никто ничего не знает о системе" / "знает-не знает все равно протестируем"
- взаимоотношение команд: навязывается/требуется, предлагается/показывается, команды ищут и хотят внедрять
- методология: "по книжкам" / "как у других" / "как нужно нам"
- целеполагение: "есть крутая технология" / "давайте покажем как у нас все хорошо (или плохо)" / мы знаем какие системы нам нужны,
- общий уровень развития Devops, других видов тестирования
- целевое поведение систем: самовосстановление и отказустойчивость
- есть ли автоматизация хаос-тестов
- есть ли кому работать с результатами тестов
- инструментарий: использование 1-2 пакетов / много пакетов / меньше, но правильнее
- количество атак: мало / много / меньше, но правильнее
- уровень внедрения: приглашенные специалисты / внутри отдельных команд / корпоративный центр

-->